<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="utf-8">
  <title>Browse Inventory — Horizon Motors</title>
  <link rel="stylesheet" href="/css/site.css" th:href="@{/css/site.css}">
  <script defer src="/js/app.js" th:src="@{/js/app.js}"></script>
</head>
<body>
  <header class="topbar">
    <div class="container inner">
      <a href="/" class="brand">
        <img src="/img/logo.svg" alt="" width="28" height="28">
        <span>Horizon<span class="accent">Motors</span></span>
      </a>
      <nav class="nav-links">
        <a href="/">Home</a>
        <a href="/browse">Browse</a>
        <a href="/financing">Financing</a>
        <a href="/contact">Contact</a>
      </nav>
      <div class="nav-cta">
        <a href="/contact" class="btn">Sell / Trade</a>
      </div>
    </div>
  </header>

  <section class="section">
    <div class="container">
      <h1 style="margin:8px 0 14px">Browse Inventory</h1>
      <form class="filterbar" action="/browse" method="get">
        <input type="text" name="q" placeholder="Search make, model or keyword" th:value="${param.q}">
        <input type="text" name="make" placeholder="Make" th:value="${param.make}">
        <input type="number" name="min" placeholder="Min $" th:value="${param.min}">
        <input type="number" name="max" placeholder="Max $" th:value="${param.max}">
        <select name="sort" th:value="${param.sort}">
          <option value="priceAsc">Price ↑</option>
          <option value="priceDesc">Price ↓</option>
          <option value="yearDesc">Year ↓</option>
          <option value="yearAsc">Year ↑</option>
        </select>
        <button class="btn primary" type="submit">Apply</button>
      </form>

      <div class="grid-meta">
        <div th:text="${vehicles} != null ? ${#lists.size(vehicles)} + ' results' : '0 results'">0 results</div>
        <a href="/browse" class="btn secondary">Reset</a>
      </div>

      <div class="inventory" th:if="${vehicles}">
        <article class="vehicle" th:each="v : ${vehicles}">
          <img th:src="${v.image}" alt="" onerror="this.src='/img/cars/supra.avif'">
          <div class="info">
            <strong th:text="${v.make} + ' ' + ${v.model}">Vehicle</strong>
            <div class="badges">
              <span class="badge" th:text="${v.year}">2022</span>
              <span class="badge" th:text="${v.transmission}">Auto</span>
              <span class="badge" th:text="${v.drivetrain}">AWD</span>
            </div>
            <div class="price" th:text="${#numbers.formatDecimal(v.price,0,'COMMA',0,'POINT')}">$00,000</div>
          </div>
        </article>
      </div>

      <div class="inventory" th:if="${vehicles == null or #lists.isEmpty(vehicles)}">
        <article class="vehicle">
          <img src="/img/cars/supra.avif" alt="">
          <div class="info">
            <strong>Toyota Supra</strong>
            <div class="badges"><span class="badge">2022</span><span class="badge">Auto</span><span class="badge">RWD</span></div>
            <div class="price">$49,995</div>
          </div>
        </article>
        <article class="vehicle">
          <img src="/img/cars/gtr.png" alt="">
          <div class="info">
            <strong>Nissan GT-R</strong>
            <div class="badges"><span class="badge">2020</span><span class="badge">Auto</span><span class="badge">AWD</span></div>
            <div class="price">$113,540</div>
          </div>
        </article>
        <article class="vehicle">
          <img src="/img/cars/m3.webp" alt="">
          <div class="info">
            <strong>BMW M3</strong>
            <div class="badges"><span class="badge">2021</span><span class="badge">Manual</span><span class="badge">RWD</span></div>
            <div class="price">$76,995</div>
          </div>
        </article>
      </div>
    </div>
  </section>

  <footer>
    <div class="container cols">
      <div>
        <div class="brand"><img src="/img/logo.svg" alt="" width="22" height="22"><span>Horizon<span class="accent">Motors</span></span></div>
        <p class="muted" style="max-width:520px">Performance & premium used vehicles.</p>
      </div>
      <div>
        <div class="muted">Visit</div>
        <div>1200 Lakeshore Blvd W<br>Toronto, ON</div>
      </div>
      <div>
        <div class="muted">Contact</div>
        <div><a href="tel:+14165551234">(416) 555-1234</a><br><a href="mailto:sales@horizonmotors.ca">sales@horizonmotors.ca</a></div>
      </div>
    </div>
  </footer>
</body>
</html>

<div class="inventory" th:if="${vehicles == null or #lists.isEmpty(vehicles)}">
  <article class="vehicle">
    <img src="/img/cars/supra.avif" alt="Toyota Supra">
    <div class="info">
      <strong>Toyota Supra</strong>
      <div class="badges"><span class="badge">RWD</span><span class="badge">Auto</span><span class="badge">Turbo</span></div>
      <div class="price">$49,995</div>
    </div>
  </article>
  <article class="vehicle">
    <img src="/img/cars/gtr.png" alt="Nissan GT-R">
    <div class="info">
      <strong>Nissan GT-R</strong>
      <div class="badges"><span class="badge">AWD</span><span class="badge">Twin-Turbo</span></div>
      <div class="price">$113,540</div>
    </div>
  </article>
  <article class="vehicle">
    <img src="/img/cars/m3.webp" alt="BMW M3">
    <div class="info">
      <strong>BMW M3</strong>
      <div class="badges"><span class="badge">RWD</span><span class="badge">Manual</span></div>
      <div class="price">$76,995</div>
    </div>
  </article>
</div>
